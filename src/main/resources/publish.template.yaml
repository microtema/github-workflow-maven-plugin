publish:
  name: Publish
  runs-on: [ %RUNS_ON% ]
  needs: [ %NEEDS% ]
  steps:
    - name: 'Checkout'
      uses: actions/checkout@v2
    - name: 'Java: Setup'
      uses: actions/setup-java@v1
      with:
        java-version: ${{ env.JAVA_VERSION }}
    - name: 'Maven: deploy'
      env:
        GITHUB_USERNAME: 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
        GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
      run: mvn deploy -P release -Dcode.coverage=0.0 -DskipTests=true -DrepoUsername=$GITHUB_USERNAME -DrepoPassword=$GITHUB_TOKEN $MAVEN_CLI_OPTS
